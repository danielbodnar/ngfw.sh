# Dockerfile for running Playwright tests in Docker
FROM mcr.microsoft.com/playwright:v1.58.1-jammy

WORKDIR /app

# Install Bun
RUN curl -fsSL https://bun.sh/install | bash
ENV PATH="/root/.bun/bin:${PATH}"

# Copy package files
COPY package.json bun.lock ./

# Install dependencies
RUN bun install --frozen-lockfile

# Install Playwright browsers
RUN bunx playwright install --with-deps chromium

# Copy test files
COPY . .

# Run tests
CMD ["bunx", "playwright", "test", "--reporter=html"]
