{
	"name": "ngfw.sh",
	"private": true,
	"scripts": {
		"setup": "bun install && bun install --cwd packages/www && bun install --cwd packages/portal && bun install --cwd packages/schema && bun install --cwd docs",
		"build": "bun run build:www && bun run build:portal && bun run build:schema && bun run build:docs",
		"build:all": "bun run build:www && bun run build:portal && bun run build:schema && bun run build:api && bun run build:docs",
		"build:www": "bun run --cwd packages/www build",
		"build:portal": "bun run --cwd packages/portal build",
		"build:schema": "wrangler deploy --cwd packages/schema --dry-run --outdir dist",
		"build:agent": "cd packages/agent && cross build --release --target aarch64-unknown-linux-gnu",
		"build:agent:musl": "cd packages/agent && cross build --release --target aarch64-unknown-linux-musl",
		"build:api": "cd packages/api; cargo install -q worker-build; worker-build --release",
		"build:docs": "bun run --cwd docs build",
		"dev": "echo 'Run dev servers individually: bun run dev:www, dev:portal, dev:schema, dev:api, or dev:docs'",
		"dev:www": "bun run --cwd packages/www dev",
		"dev:portal": "bun run --cwd packages/portal dev",
		"dev:schema": "bun run --cwd packages/schema dev",
		"dev:api": "wrangler dev --cwd packages/api",
		"dev:docs": "bun run --cwd docs dev",
		"lint": "oxlint --config .oxlintrc.json .",
		"lint:fix": "oxlint --config .oxlintrc.json --fix .",
		"format": "oxfmt --write .",
		"format:check": "oxfmt --check .",
		"test": "bun run test:schema",
		"test:schema": "bun run --cwd packages/schema test",
		"test:integration": "tests/integration/docker/run-all-tests.sh",
		"test:integration:docker": "tests/integration/run-docker.sh",
		"test:integration:qemu": "tests/integration/run-qemu.sh",
		"test:integration:ci": "tests/integration/run-ci.sh",
		"test:integration:firmware": "tests/integration/docker/test-firmware-adapter.sh",
		"test:integration:full": "tests/integration/docker/test-full-stack.sh",
		"test:integration:performance": "tests/integration/docker/test-performance.sh",
		"test:integration:load": "tests/integration/docker/test-load.sh",
		"test:e2e": "bun run tests/e2e/cli.ts",
		"test:e2e:smoke": "bun run tests/e2e/cli.ts --smoke",
		"test:e2e:docker": "bun run tests/e2e/cli.ts --env docker",
		"test:e2e:qemu": "bun run tests/e2e/cli.ts --env qemu",
		"test:e2e:prereq": "bun run tests/e2e/cli.ts --prereq",
		"test:e2e:perf": "bun run tests/e2e/cli.ts --performance",
		"test:e2e:list": "bun run tests/e2e/cli.ts --list",
		"db:migrate": "bun run db:migrate:local",
		"db:migrate:local": "wrangler d1 migrations apply DB --local --config packages/schema/wrangler.jsonc",
		"db:migrate:remote": "wrangler d1 migrations apply DB --remote --config packages/schema/wrangler.jsonc",
		"deploy": "bun run deploy:www && bun run deploy:portal && bun run deploy:schema && bun run deploy:docs",
		"deploy:all": "bun run deploy:www && bun run deploy:portal && bun run deploy:schema && bun run deploy:api && bun run deploy:docs",
		"deploy:www": "bun run --cwd packages/www deploy",
		"deploy:portal": "bun run --cwd packages/portal-astro deploy",
		"deploy:schema": "bun run --cwd packages/schema deploy",
		"deploy:api": "wrangler deploy --cwd packages/api",
		"deploy:docs": "bun run --cwd docs deploy"
	},
	"dependencies": {
		"@openauthjs/openauth": "^0.4.3",
		"hono": "^4.11.7"
	},
	"devDependencies": {
		"oxfmt": "^0.28.0",
		"oxlint": "^1.43.0",
		"wrangler": "^4.63.0"
	},
	"overrides": {
		"hono": ">=4.11.7",
		"undici": ">=7.18.2"
	}
}
